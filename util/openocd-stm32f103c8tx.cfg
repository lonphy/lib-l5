# tcp port for debug

set FLASH_SIZE 0x20000

# debug adapter
source [find interface/stlink.cfg]

transport select hla_swd


# board's core mcu
source [find target/stm32f1x.cfg]


# set adapter speed
adapter_khz 950

init
reset init

# halt 1s
halt 1000

flash write_image erase build/rtos.bin 0x08000000
verify_image      build/rtos.bin       0x08000000

reset

# close open-ocd daemon
shutdown